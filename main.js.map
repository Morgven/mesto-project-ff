{"version":3,"file":"main.js","mappings":"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","sources":["webpack://mesto-project-ff/./src/components/cards.js","webpack://mesto-project-ff/./src/components/api.js","webpack://mesto-project-ff/./src/components/card.js","webpack://mesto-project-ff/./src/components/modal.js","webpack://mesto-project-ff/./src/components/validation.js","webpack://mesto-project-ff/./src/components/index.js"],"sourcesContent":["export const initialCards = [\r\n  {\r\n    name: \"Архыз\",\r\n    link: \"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg\",\r\n    alt: \"пейзаж Архыза\",\r\n  },\r\n  {\r\n    name: \"Челябинская область\",\r\n    link: \"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg\",\r\n    alt: \"пейзаж Челябинской области\",\r\n  },\r\n  {\r\n    name: \"Иваново\",\r\n    link: \"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg\",\r\n    alt: \"пейзаж Иваново\",\r\n  },\r\n  {\r\n    name: \"Камчатка\",\r\n    link: \"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg\",\r\n    alt: \"пейзаж Камчатки\",\r\n  },\r\n  {\r\n    name: \"Холмогорский район\",\r\n    link: \"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg\",\r\n    alt: \"пейзаж Холмогорского района\",\r\n  },\r\n  {\r\n    name: \"Байкал\",\r\n    link: \"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg\",\r\n    alt: \"пейзаж Байкала\",\r\n  },\r\n];\r\n","const config = {\r\n  baseUrl: \"https://nomoreparties.co/v1/wff-cohort-15\",\r\n  headers: {\r\n    authorization: \"5dcf1aa1-8e2e-4665-9dbb-d84d3205566d\",\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n};\r\n\r\nconst checkResult = (res) => {\r\n  if (res.ok) {\r\n    return res.json();\r\n  }\r\n  return Promise.reject(`Ошибка: ${res.status}`);\r\n};\r\n\r\nconst getInitialCards = () => {\r\n  return fetch(`${config.baseUrl}/cards`, {\r\n    headers: config.headers,\r\n  })\r\n    .then((res) => checkResult(res))\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nconst getUserInfo = () => {\r\n  return fetch(`${config.baseUrl}/users/me`, {\r\n    headers: config.headers,\r\n  })\r\n    .then((res) => checkResult(res))\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nconst editProfileData = (profileName, profileDescription) => {\r\n  return fetch(`${config.baseUrl}/users/me`, {\r\n    method: \"PATCH\",\r\n    headers: config.headers,\r\n    body: JSON.stringify({\r\n      name: profileName,\r\n      about: profileDescription,\r\n    }),\r\n  })\r\n    .then((res) => checkResult(res))\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nconst createCardOnServer = (cardName, cardLink) => {\r\n  return fetch(`${config.baseUrl}/cards`, {\r\n    method: \"POST\",\r\n    headers: config.headers,\r\n    body: JSON.stringify({\r\n      name: cardName,\r\n      link: cardLink,\r\n    }),\r\n  })\r\n    .then((res) => checkResult(res))\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nconst deleteCardOnServer = (cardId) => {\r\n  return fetch(`${config.baseUrl}/cards/${cardId}`, {\r\n    method: \"DELETE\",\r\n    headers: config.headers,\r\n  })\r\n    .then((res) => checkResult(res))\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nconst putLike = (cardId) => {\r\n  return fetch(`${config.baseUrl}/cards/likes/${cardId}`, {\r\n    method: \"PUT\",\r\n    headers: config.headers,\r\n  })\r\n    .then((res) => checkResult(res))\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nconst deleteLike = (cardId) => {\r\n  return fetch(`${config.baseUrl}/cards/likes/${cardId}`, {\r\n    method: \"DELETE\",\r\n    headers: config.headers,\r\n  })\r\n    .then((res) => checkResult(res))\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nconst editProfileAvatar = (profileAvatar) => {\r\n  return fetch(`${config.baseUrl}/users/me/avatar`, {\r\n    method: \"PATCH\",\r\n    headers: config.headers,\r\n    body: JSON.stringify({\r\n      avatar: profileAvatar,\r\n    }),\r\n  })\r\n    .then((res) => checkResult(res))\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport { getInitialCards, getUserInfo, editProfileData, createCardOnServer, deleteCardOnServer, putLike, deleteLike, editProfileAvatar };\r\n","import { deleteCardOnServer, putLike, deleteLike } from \"./api.js\";\r\n\r\nconst cardTemplate = document.querySelector(\"#card-template\").content;\r\n\r\nfunction createCard(cardData, deleteCard, likeCard, zoomImage, userId) {\r\n  const cardElement = cardTemplate\r\n    .querySelector(\".places__item.card\")\r\n    .cloneNode(true);\r\n  const cardTitle = cardElement.querySelector(\".card__title\");\r\n  const cardImage = cardElement.querySelector(\".card__image\");\r\n  const cardAlt = cardElement.querySelector(\".card__image\");\r\n  const cardDeleteButton = cardElement.querySelector(\".card__delete-button\");\r\n  const likeButton = cardElement.querySelector(\".card__like-button\");\r\n  const likeButtonCount = cardElement.querySelector(\".card__like-counter\");\r\n  const deleteButton = cardElement.querySelector(\".card__delete-button\");\r\n\r\n  cardTitle.textContent = cardData.name;\r\n  cardImage.src = cardData.link;\r\n  cardAlt.alt = cardData.name;\r\n  likeButtonCount.textContent = cardData.likes.length;\r\n\r\n  if (cardData.owner[\"_id\"] === userId) {\r\n    cardDeleteButton.addEventListener(\"click\", () =>\r\n      deleteCard(cardElement, cardData._id)\r\n    );\r\n  } else {\r\n    deleteButton.remove();\r\n  }\r\n\r\n  if (cardData.likes.some((like) => like._id === userId)) {\r\n    likeButton.classList.add(\"card__like-button_is-active\");\r\n  }\r\n\r\n  likeButton.addEventListener(\"click\", () => {\r\n    if (likeButton.classList.contains(\"card__like-button_is-active\")) {\r\n      deleteLike(cardData._id)\r\n        .then((cardData) => {\r\n          likeButton.classList.toggle(\"card__like-button_is-active\");\r\n          likeButtonCount.textContent = cardData.likes.length;\r\n          likeCard;\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    } else {\r\n      putLike(cardData._id)\r\n        .then((cardData) => {\r\n          likeButton.classList.toggle(\"card__like-button_is-active\");\r\n          likeButtonCount.textContent = cardData.likes.length;\r\n          likeCard;\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    }\r\n  });\r\n\r\n  cardImage.addEventListener(\"click\", () => zoomImage(cardData));\r\n\r\n  return cardElement;\r\n}\r\n\r\nfunction deleteCard(cardElement, cardId) {\r\n  deleteCardOnServer(cardId)\r\n    .then(() => {\r\n      cardElement.remove();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n}\r\n\r\nfunction likeCard(likeIcon) {\r\n  likeIcon.target.classList.toggle(\"card__like-button_is-active\");\r\n}\r\n\r\nexport { createCard, deleteCard, likeCard };\r\n","function openModal(modal) {\r\n  modal.classList.add(\"popup_is-animated\");\r\n  setTimeout(() => {\r\n    modal.classList.add(\"popup_is-opened\");\r\n  }, 0);\r\n  document.addEventListener(\"keydown\", closeWithEsc);\r\n  modal.addEventListener(\"click\", closeWithOverlay);\r\n}\r\n\r\nfunction closeModal(modal) {\r\n  modal.classList.remove(\"popup_is-opened\");\r\n  document.removeEventListener(\"keydown\", closeWithEsc);\r\n  modal.removeEventListener(\"click\", closeWithOverlay);\r\n}\r\n\r\nfunction closeWithEsc(evt) {\r\n  if (evt.key === \"Escape\") {\r\n    closeModal(document.querySelector(\".popup_is-opened\"));\r\n  }\r\n}\r\n\r\nfunction closeWithOverlay(evt) {\r\n  if (evt.currentTarget === evt.target) {\r\n    closeModal(evt.currentTarget);\r\n  }\r\n}\r\n\r\nexport { openModal, closeModal };\r\n","const validationConfig = {\r\n  formSelector: \".popup__form\",\r\n  inputSelector: \".popup__input\",\r\n  submitButtonSelector: \".popup__button\",\r\n  inactiveButtonClass: \"popup__button_disabled\",\r\n  inputErrorClass: \"popup__input_type_error\",\r\n  errorClass: \"popup__error_visible\",\r\n};\r\n\r\nfunction setEventListeners(formElement, config) {\r\n  const inputList = Array.from(\r\n    formElement.querySelectorAll(config.inputSelector)\r\n  );\r\n  const buttonElement = formElement.querySelector(config.submitButtonSelector);\r\n  toggleButtonState(inputList, buttonElement, config);\r\n\r\n  inputList.forEach((inputElement) => {\r\n    inputElement.addEventListener(\"input\", () => {\r\n      checkInputValidity(formElement, inputElement, config.inputErrorClass);\r\n      toggleButtonState(inputList, buttonElement, config);\r\n    });\r\n  });\r\n}\r\n\r\nfunction checkInputValidity(formElement, inputElement, inputErrorClass) {\r\n  if (inputElement.validity.patternMismatch) {\r\n    inputElement.setCustomValidity(inputElement.dataset.errorMessage);\r\n  } else {\r\n    inputElement.setCustomValidity(\"\");\r\n  }\r\n  if (inputElement.validity.valid) {\r\n    hideInputError(formElement, inputElement, inputErrorClass);\r\n  } else {\r\n    showInputError(\r\n      formElement,\r\n      inputElement,\r\n      inputErrorClass,\r\n      inputElement.validationMessage\r\n    );\r\n  }\r\n}\r\n\r\nfunction showInputError(\r\n  formElement,\r\n  inputElement,\r\n  inputErrorClass,\r\n  errorMessage\r\n) {\r\n  const errorElement = formElement.querySelector(`.${inputElement.id}-error`);\r\n  inputElement.classList.add(inputErrorClass);\r\n  errorElement.textContent = errorMessage;\r\n}\r\n\r\nfunction hideInputError(formElement, inputElement, inputErrorClass) {\r\n  const errorElement = formElement.querySelector(`.${inputElement.id}-error`);\r\n  inputElement.classList.remove(inputErrorClass);\r\n  errorElement.textContent = \"\";\r\n}\r\n\r\nfunction hasInvalidInput(inputList) {\r\n  return inputList.some((inputElement) => {\r\n    return !inputElement.validity.valid;\r\n  });\r\n}\r\n\r\nfunction toggleButtonState(inputList, buttonElement, config) {\r\n  if (hasInvalidInput(inputList)) {\r\n    buttonElement.disabled = true;\r\n    buttonElement.classList.add(config.inactiveButtonClass);\r\n  } else {\r\n    buttonElement.disabled = false;\r\n    buttonElement.classList.remove(config.inactiveButtonClass);\r\n  }\r\n}\r\n\r\nfunction enableValidation(config) {\r\n  const formList = Array.from(document.querySelectorAll(config.formSelector));\r\n  formList.forEach((formElement) => {\r\n    setEventListeners(formElement, config);\r\n  });\r\n}\r\n\r\nfunction clearValidation(formElement, config) {\r\n  const inputList = Array.from(\r\n    formElement.querySelectorAll(config.inputSelector)\r\n  );\r\n  inputList.forEach((inputElement) => {\r\n    hideInputError(formElement, inputElement, config.inputErrorClass);\r\n  });\r\n\r\n  const buttonElement = formElement.querySelector(config.submitButtonSelector);\r\n  toggleButtonState(inputList, buttonElement, config.inactiveButtonClass);\r\n}\r\n\r\nexport { validationConfig, enableValidation, clearValidation };\r\n","import '../pages/index.css';\r\nimport { initialCards } from './cards.js';\r\nimport { createCard, deleteCard, likeCard } from './card.js';\r\nimport { openModal, closeModal } from \"./modal.js\";\r\nimport { validationConfig, enableValidation, clearValidation } from \"./validation.js\";\r\nimport { getInitialCards, getUserInfo, editProfileData, createCardOnServer, editProfileAvatar } from \"./api.js\";\r\n\r\nconst editProfileButton = document.querySelector(\".profile__edit-button\");\r\nconst editProfileModal = document.querySelector(\".popup_type_edit\");\r\nconst editProfileCloseButton = editProfileModal.querySelector(\".popup__close\");\r\nconst editProfileForm = editProfileModal.querySelector(\".popup__form\");\r\nconst editProfileName = editProfileForm.querySelector(\".popup__input_type_name\");\r\nconst editProfileDescription = editProfileForm.querySelector(\".popup__input_type_description\");\r\nconst profileName = document.querySelector('.profile__title');\r\nconst profileDescription = document.querySelector('.profile__description');\r\n\r\nconst profileImage = document.querySelector('.profile__image');\r\nconst editProfileImageModal = document.querySelector(\".popup_type_edit-avatar\");\r\nconst editProfileImageCloseButton = editProfileImageModal.querySelector(\".popup__close\");\r\nconst editProfileImageForm = editProfileImageModal.querySelector(\".popup__form\");\r\nconst editProfileAvatarInput = editProfileImageForm.querySelector(\".popup__input_type_avatar-url\");\r\n\r\nconst createCardButton = document.querySelector(\".profile__add-button\");\r\nconst createCardModal = document.querySelector(\".popup_type_new-card\");\r\nconst createCardCloseButton = createCardModal.querySelector(\".popup__close\");\r\nconst createCardForm = createCardModal.querySelector(\".popup__form\");\r\nconst createCardName = createCardForm.querySelector(\".popup__input_type_card-name\");\r\nconst createCardLink = createCardForm.querySelector(\".popup__input_type_url\");\r\n\r\nconst zoomImageModal = document.querySelector(\".popup_type_image\");\r\nconst zoomImageSource = document.querySelector(\".popup__image\");\r\nconst zoomImageCaption = document.querySelector(\".popup__caption\");\r\nconst zoomImageCloseButton = zoomImageModal.querySelector(\".popup__close\");\r\n\r\nconst buttonSubmit = document.querySelector(\".popup__button\");\r\nconst placesList = document.querySelector(\".places__list\");\r\n\r\neditProfileButton.addEventListener(\"click\", () => { \r\n  openModal(editProfileModal)\r\n  editProfileName.value = profileName.textContent;\r\n  editProfileDescription.value = profileDescription.textContent;\r\n  clearValidation(editProfileForm, validationConfig);\r\n});\r\neditProfileForm.addEventListener('submit', handleEditProfileSubmit);\r\neditProfileCloseButton.addEventListener(\"click\", () => closeModal(editProfileModal));\r\n\r\nprofileImage.addEventListener(\"click\", () => {\r\n  editProfileImageForm.reset();\r\n  openModal(editProfileImageModal);\r\n  clearValidation(editProfileImageForm, validationConfig);\r\n});\r\neditProfileImageForm.addEventListener('submit', handleEditProfileImageSubmit);\r\neditProfileImageCloseButton.addEventListener(\"click\", () => closeModal(editProfileImageModal));\r\n\r\ncreateCardButton.addEventListener(\"click\", () => { \r\n  createCardForm.reset();\r\n  openModal(createCardModal);\r\n  clearValidation(createCardForm, validationConfig);\r\n});\r\ncreateCardForm.addEventListener('submit', handleAddCardSubmit);\r\ncreateCardCloseButton.addEventListener(\"click\", () => closeModal(createCardModal));\r\n\r\nzoomImageCloseButton.addEventListener(\"click\", () => closeModal(zoomImageModal));\r\n\r\nfunction handleEditProfileSubmit(evt) {\r\n  evt.preventDefault();\r\n  buttonSubmit.textContent = 'Сохранение...';\r\n  editProfileData(editProfileName.value, editProfileDescription.value)\r\n  .then((profileData) => {\r\n    profileName.textContent = profileData.name;\r\n    profileDescription.textContent = profileData.about;\r\n  })\r\n  .catch((err) => console.log(err))\r\n  .finally(() => buttonSubmit.textContent = 'Сохранить');\r\n  closeModal(editProfileModal);\r\n}\r\n\r\nfunction handleEditProfileImageSubmit(evt) {\r\n  evt.preventDefault();\r\n  buttonSubmit.textContent = 'Сохранение...';\r\n  editProfileAvatar(editProfileAvatarInput.value)\r\n  .then((newProfileImage) => {\r\n    profileImage.style.backgroundImage = `url('${newProfileImage}')`;\r\n  })\r\n  .catch((err) => console.log(err))\r\n  .finally(() => buttonSubmit.textContent = 'Сохранить');\r\n  editProfileImageForm.reset();\r\n  closeModal(editProfileImageModal);\r\n}\r\n\r\nfunction handleAddCardSubmit(evt) {\r\n  evt.preventDefault();\r\n  buttonSubmit.textContent = 'Сохранение...';\r\n  createCardOnServer(createCardName.value, createCardLink.value)\r\n  .then((cardData) => {\r\n    placesList.prepend(createCard(cardData, deleteCard, likeCard, zoomImage));\r\n  })\r\n  .catch((err) => console.log(err))\r\n  .finally(() => buttonSubmit.textContent = 'Сохранить');\r\n  createCardForm.reset();\r\n  closeModal(createCardModal);\r\n}\r\n\r\nfunction zoomImage(image) {\r\n  zoomImageCaption.textContent = image.name;\r\n  zoomImageSource.src = image.link;\r\n  zoomImageSource.alt = image.name;\r\n  openModal(zoomImageModal);\r\n}\r\n\r\n// function displayLocalCards(cardsArray) {\r\n//   cardsArray.forEach(function (cardData) {\r\n//     const cardElement = createCard(cardData, deleteCard, likeCard, zoomImage);\r\n//     placesList.appendChild(cardElement);\r\n//   });\r\n// }\r\n\r\n// displayLocalCards(initialCards);\r\n\r\nenableValidation(validationConfig);\r\n\r\nPromise.all([getUserInfo(), getInitialCards()])\r\n    .then( function displayServerCardsAndUserInfo([userInfo, cardsArray]) {\r\n      const userId = userInfo._id;\r\n      profileName.textContent = userInfo.name;\r\n      profileDescription.textContent = userInfo.about;\r\n      profileImage.style.backgroundImage = `url('${userInfo.avatar}')`;\r\n      cardsArray.forEach(function (cardData) {\r\n        placesList.append(\r\n          createCard(cardData, deleteCard, likeCard, zoomImage, userId)\r\n        );\r\n      })\r\n    })\r\n    .catch((err) => console.log(err));"],"names":["config","baseUrl","headers","authorization","checkResult","res","ok","json","Promise","reject","concat","status","cardTemplate","document","querySelector","content","createCard","cardData","deleteCard","likeCard","zoomImage","userId","cardElement","cloneNode","cardTitle","cardImage","cardAlt","cardDeleteButton","likeButton","likeButtonCount","deleteButton","textContent","name","src","link","alt","likes","length","owner","addEventListener","_id","remove","some","like","classList","add","cardId","contains","fetch","method","then","catch","err","console","log","toggle","putLike","deleteCardOnServer","openModal","modal","setTimeout","closeWithEsc","closeWithOverlay","closeModal","removeEventListener","evt","key","currentTarget","target","validationConfig","formSelector","inputSelector","submitButtonSelector","inactiveButtonClass","inputErrorClass","errorClass","hideInputError","formElement","inputElement","errorElement","id","toggleButtonState","inputList","buttonElement","validity","valid","hasInvalidInput","disabled","clearValidation","Array","from","querySelectorAll","forEach","editProfileButton","editProfileModal","editProfileCloseButton","editProfileForm","editProfileName","editProfileDescription","profileName","profileDescription","profileImage","editProfileImageModal","editProfileImageCloseButton","editProfileImageForm","editProfileAvatarInput","createCardButton","createCardModal","createCardCloseButton","createCardForm","createCardName","createCardLink","zoomImageModal","zoomImageSource","zoomImageCaption","zoomImageCloseButton","buttonSubmit","placesList","image","value","preventDefault","body","JSON","stringify","about","editProfileData","profileData","finally","reset","profileAvatar","avatar","newProfileImage","style","backgroundImage","cardName","cardLink","prepend","patternMismatch","setCustomValidity","dataset","errorMessage","showInputError","validationMessage","checkInputValidity","setEventListeners","enableValidation","all","_ref","_ref2","userInfo","cardsArray","append"],"sourceRoot":""}